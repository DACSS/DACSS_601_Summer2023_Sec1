{
  "hash": "fe1069825444d62d558ca3e7fadd7b57",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4 Instructions\"\nauthor: \"Gabrielle Roman\"\ndescription: \"More data wrangling: pivoting\"\ndate: \"5/30/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - abc_poll\n  - eggs\n  - fed_rates\n  - hotel_bookings\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  identify variables that need to be mutated\n4)  mutate variables and sanity check all mutations\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   abc_poll.csv ⭐\n-   poultry_tidy.xlsx or organiceggpoultry.xls⭐⭐\n-   FedFundsRate.csv⭐⭐⭐\n-   hotel_bookings.csv⭐⭐⭐⭐\n-   debt_in_trillions.xlsx ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nabc_poll_2021 <- read_csv(\"_data/abc_poll_2021.csv\")\nView(abc_poll_2021)\nabc_poll_2021\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 527 × 31\n        id xspanish complete_status ppage ppeduc5       ppeducat ppgender ppethm\n     <dbl> <chr>    <chr>           <dbl> <chr>         <chr>    <chr>    <chr> \n 1 7230001 English  qualified          68 \"High school… High sc… Female   White…\n 2 7230002 English  qualified          85 \"Bachelor\\x9… Bachelo… Male     White…\n 3 7230003 English  qualified          69 \"High school… High sc… Male     White…\n 4 7230004 English  qualified          74 \"Bachelor\\x9… Bachelo… Female   White…\n 5 7230005 English  qualified          77 \"High school… High sc… Male     White…\n 6 7230006 English  qualified          70 \"Bachelor\\x9… Bachelo… Male     White…\n 7 7230007 English  qualified          26 \"Master\\x92s… Bachelo… Male     Other…\n 8 7230008 English  qualified          76 \"Bachelor\\x9… Bachelo… Male     Black…\n 9 7230009 English  qualified          78 \"Bachelor\\x9… Bachelo… Female   White…\n10 7230010 English  qualified          47 \"Master\\x92s… Bachelo… Male     Other…\n# ℹ 517 more rows\n# ℹ 23 more variables: pphhsize <chr>, ppinc7 <chr>, ppmarit5 <chr>,\n#   ppmsacat <chr>, ppreg4 <chr>, pprent <chr>, ppstaten <chr>, PPWORKA <chr>,\n#   ppemploy <chr>, Q1_a <chr>, Q1_b <chr>, Q1_c <chr>, Q1_d <chr>, Q1_e <chr>,\n#   Q1_f <chr>, Q2 <chr>, Q3 <chr>, Q4 <chr>, Q5 <chr>, QPID <chr>,\n#   ABCAGE <chr>, Contact <chr>, weights_pid <dbl>\n```\n:::\n:::\n\n\n### Briefly describe the data\nThis data set appears to provide demographic information and answers from a group of participants who completed a poll. Judging by the number of rows, there were 527 participants and 31 columns classifying the participants by variables such as gender, education level, work status, and race.\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#political\nabc_poll_2021%>%\n  select(starts_with(\"Q\"))%>%\n  colnames()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Q1_a\" \"Q1_b\" \"Q1_c\" \"Q1_d\" \"Q1_e\" \"Q1_f\" \"Q2\"   \"Q3\"   \"Q4\"   \"Q5\"  \n[11] \"QPID\"\n```\n:::\n\n```{.r .cell-code}\n#demographic\nabc_poll_2021%>%\n  select(starts_with(\"pp\"))%>%\n  colnames()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"ppage\"    \"ppeduc5\"  \"ppeducat\" \"ppgender\" \"ppethm\"   \"pphhsize\"\n [7] \"ppinc7\"   \"ppmarit5\" \"ppmsacat\" \"ppreg4\"   \"pprent\"   \"ppstaten\"\n[13] \"PPWORKA\"  \"ppemploy\"\n```\n:::\n:::\n\n\nI will identify which variables constitute demographics; which are political answers, and which are demographic information.\n\nPolitical answer demographics have \"Q\" in their heading, while demographic headers begin with \"pp\".\n\n## Identify variables that need to be mutated\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, are all time variables correctly coded as dates? Are all string variables reduced and cleaned to sensible categories? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nVariables worth adjusting are the \"An\" and \"A\" in the QPID column and the \"Non-Hispanic\" designation in the ppethm column.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(abc_poll_2021$ppethm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n2+ Races, Non-Hispanic    Black, Non-Hispanic               Hispanic \n                    21                     27                     51 \n   Other, Non-Hispanic    White, Non-Hispanic \n                    24                    404 \n```\n:::\n\n```{.r .cell-code}\nabc_poll <- abc_poll_2021%>%\n  mutate(ethnicity = str_remove(ppethm,\", Non-Hispanic\"))%>%\n  select(-ppethm)\n\nabc_poll_complete <- abc_poll%>%\n  mutate(party_affiliation = str_remove(QPID, \"A[n]* \"))%>%\n  select(-QPID)\n\n#sanity check\ntable(abc_poll_complete$ethnicity)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n2+ Races    Black Hispanic    Other    White \n      21       27       51       24      404 \n```\n:::\n\n```{.r .cell-code}\ntable(abc_poll_complete$party_affiliation)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n      Democrat    Independent     Republican        Skipped Something else \n           176            168            152              3             28 \n```\n:::\n\n```{.r .cell-code}\nview(abc_poll_complete)\n```\n:::\n\n\nAny additional comments?\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}